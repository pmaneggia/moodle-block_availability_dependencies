{"version":3,"sources":["../src/test.js"],"names":["init","content","simulation","generateSimulation","display","dependencies","d3","forceSimulation","nodes","force","forceManyBody","forceLink","edges","id","d","forceCenter","Object","keys","map","x","data","entries","filter","key","value","flatMap","c","target","source","cm","displayNodes","select","selectAll","enter","append","attr","n","y"],"mappings":"snCAAoB,QAAPA,CAAAA,IAAO,CAACC,CAAD,CAAa,CAC7B,GAAIC,CAAAA,CAAU,CAAGC,CAAkB,CAACF,CAAD,CAAnC,CACAG,CAAO,CAACF,CAAD,CACV,C,CAED,QAASC,CAAAA,CAAT,CAA4BE,CAA5B,CAA0C,CACtC,MAAOC,CAAAA,EAAE,CAACC,eAAH,CAAmBC,CAAK,CAACH,CAAD,CAAxB,EACFI,KADE,CACI,QADJ,CACcH,EAAE,CAACI,aAAH,EADd,EAEFD,KAFE,CAEI,MAFJ,CAEYH,EAAE,CAACK,SAAH,CAAaC,CAAK,CAACP,CAAD,CAAlB,EAAkCQ,EAAlC,CAAqC,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACD,EAAN,CAAtC,CAFZ,EAGFJ,KAHE,CAGI,QAHJ,CAGcH,EAAE,CAACS,WAAH,EAHd,CAIV,CAGD,QAASP,CAAAA,CAAT,CAAeH,CAAf,CAA6B,CACzB,MAAOW,CAAAA,MAAM,CAACC,IAAP,CAAYZ,CAAZ,EAA0Ba,GAA1B,CAA8B,SAAAC,CAAC,CAAI,CAAC,MAAO,CAACN,EAAE,CAAEM,CAAL,CAAQ,CAAnD,CACV,CAGD,QAASP,CAAAA,CAAT,CAAeQ,CAAf,CAAqB,CACjB,MAAOJ,CAAAA,MAAM,CAACK,OAAP,CAAeD,CAAf,EAAqBE,MAArB,CAA4B,yBAAEC,CAAF,MAAOC,CAAP,YAA4B,KAAV,GAAAA,CAAlB,CAA5B,EACFC,OADE,CACM,WAAkB,cAAhBF,CAAgB,MAAXC,CAAW,MAAC,MAAOA,CAAAA,CAAK,CAACE,CAAN,CAAQR,GAAR,CAAY,SAAAC,CAAC,CAAI,CAAC,MAAO,CAACQ,MAAM,CAAEJ,CAAT,CAAcK,MAAM,CAAET,CAAC,CAACU,EAAF,CAAO,EAA7B,CAAiC,CAA1D,CAA4D,CAD5F,CAEV,CAED,QAASzB,CAAAA,CAAT,CAAiBF,CAAjB,CAA6B,CACzB4B,CAAY,CAAC5B,CAAU,CAACM,KAAX,EAAD,CACf,CAED,QAASsB,CAAAA,CAAT,CAAsBtB,CAAtB,CAA6B,CACzBF,EAAE,CAACyB,MAAH,CAAU,KAAV,EAAiBC,SAAjB,CAA2B,QAA3B,EAAqCZ,IAArC,CAA0CZ,CAA1C,EACKyB,KADL,GACaC,MADb,CACoB,QADpB,EAEKC,IAFL,CAEU,GAFV,CAEe,CAFf,EAGKA,IAHL,CAGU,IAHV,CAGgB,SAAAC,CAAC,QAAU,EAAN,CAAAA,CAAC,CAACjB,CAAF,CAAU,GAAd,CAHjB,EAIKgB,IAJL,CAIU,IAJV,CAIgB,SAAAC,CAAC,QAAU,EAAN,CAAAA,CAAC,CAACC,CAAF,CAAU,GAAd,CAJjB,CAKH,C","sourcesContent":["export const init = (content) => {\n    let simulation = generateSimulation(content);\n    display(simulation);\n};\n\nfunction generateSimulation(dependencies) {\n    return d3.forceSimulation(nodes(dependencies))\n        .force('charge', d3.forceManyBody())\n        .force('link', d3.forceLink(edges(dependencies)).id(d => d.id))\n        .force('center', d3.forceCenter());\n}\n\n// Compute the nodes for d3-force as an array of objects {id: cm_id}\nfunction nodes(dependencies) {\n    return Object.keys(dependencies).map(x => {return {id: x}});\n}\n\n// Compute the edges (links) for d3-force.\nfunction edges(data) {\n    return Object.entries(data).filter(([key, value]) => value !== null)\n        .flatMap(([key, value]) => {return value.c.map(x => {return {target: key, source: x.cm + ''}})});\n}\n\nfunction display(simulation) {\n    displayNodes(simulation.nodes());\n}\n\nfunction displayNodes(nodes) {\n    d3.select('svg').selectAll('circle').data(nodes)\n        .enter().append('circle')\n        .attr('r', 5)\n        .attr('cx', n => n.x * 5 + 100)\n        .attr('cy', n => n.y * 5 + 100);\n}\n\n\n\n"],"file":"test.min.js"}